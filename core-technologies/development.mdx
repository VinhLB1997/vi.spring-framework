---
title: "Validation, Data Binding, and Type Conversion"
---

## Spring’s Validator Interface

Spring cung cấp `Validator` interface để validate objects. Nếu quá trình validate xảy ra error, `Errors` object sẽ chứa thông tin error đó.

Để xử lý validate cho class, có thể cung cấp class implement `Validator` interface. Handle validate business logic code thông qua method `validate` và `supports(Class)`. Spring cung cấp sẵn `ValidationUtils` helper class có các method hữu ích trong việc validate.

Nếu có một class phức tạp mà bên trong có những object phụ thuộc khác thì cách tốt nhất là nên viết các class `Validator` riêng cho từng object. Ví dụ trong `Customer` có field là `Address` object, ta nên viết `AddressValidator` cho `Address` object, và một `CustomerValidator` cho `Customer`. Trong `CustomerValidator` sẽ tái sử dụng business validate của `AddressValidator` bằng cách inject `AddressValidator` vào `CustomerValidator` như sau:

```java
public class CustomerValidator implements Validator {

	private final Validator addressValidator;

	public CustomerValidator(Validator addressValidator) {
		if (addressValidator == null) {
			throw new IllegalArgumentException("The supplied [Validator] is " +
				"required and must not be null.");
		}
		if (!addressValidator.supports(Address.class)) {
			throw new IllegalArgumentException("The supplied [Validator] must " +
				"support the validation of [Address] instances.");
		}
		this.addressValidator = addressValidator;
	}

	/**
	 * This Validator validates Customer instances, and any subclasses of Customer too
	 */
	public boolean supports(Class clazz) {
		return Customer.class.isAssignableFrom(clazz);
	}

	public void validate(Object target, Errors errors) {
		ValidationUtils.rejectIfEmptyOrWhitespace(errors, "firstName", "field.required");
		ValidationUtils.rejectIfEmptyOrWhitespace(errors, "surname", "field.required");
		Customer customer = (Customer) target;
		try {
			errors.pushNestedPath("address");
			ValidationUtils.invokeValidator(this.addressValidator, customer.getAddress(), errors);
		} finally {
			errors.popNestedPath();
		}
	}
}
```

## Data Binding
