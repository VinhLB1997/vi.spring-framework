---
title: "Spring Framework Transaction Support"
---

## Tổng quan

Transaction management là yếu tố quan trọng trong enterprise applications. Có hai mô hình chính:

- **Spring Framework Transaction Support**
- **Java EE (Jakarta EE) Transaction Management**

## 1. Kiến trúc và Mô hình

**Spring Transaction Management**

```
┌───────────────────────────────┐
│         Spring Transaction Abstraction           │
├───────────────────────────────┤
│  PlatformTransactionManager (Interface)          │
├───────────────────────────────┤
│ JDBC         │ JPA          │ Hibernate │ JTA   │
│ DataSource   │ EntityMgr    │ Session   │ Multi │
└───────────────────────────────┘
```

**Java EE Transaction Management**

```
┌───────────────────────────────┐
│      Java EE Container-Managed (CMT)             │
├───────────────────────────────┤
│  @TransactionAttribute                           │
│  Container interceptors                          │
│  JTA (Java Transaction API)                      │
└───────────────────────────────┘
```
So sánh chi tiết:
| Tiêu chí | Spring Framework | Java EE |
| ----- | ----- | ----- |
|Dependency|Không phụ thuộc container|Yêu cầu EE container (WildFly, WebLogic)Yêu cầu EE container (WildFly, WebLogic)|
|Declarative TX|`@Transactional`|`@TransactionAttribute`|
|Programmatic TX|`TransactionTemplate`, `PlatformTransactionManager`|`UserTransaction`|
|Abstraction|Nhất quán API cho nhiều TX managers|Chủ yếu JTA|
|Configuration|Java config, XML, annotations|Annotations, deployment descriptors|
|Testing|Dễ test với mocks|Khó test, cần container hoặc Arquillian|
|Flexibility|Rất linh hoạt, pluggable|Bị giới hạn bởi container|
|Portability|Chạy được mọi nơi (Tomcat, Jetty)|Chỉ trên EE containers|